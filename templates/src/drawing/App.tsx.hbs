import {StrictMode, useCallback, useEffect, useRef} from 'react';
import {createMergeableStore, createStore} from 'tinybase';
import {Provider, useAddRowCallback, useCreateStore, useDelTableCallback, useRow, useRowIds, useStore} from 'tinybase/ui-react';
import {Inspector} from 'tinybase/ui-react-inspector';
{{includeFile template="src/components/DrawingControls.tsx.hbs" output="src/components/DrawingControls.{{ext}}"}}
import {DrawingControls} from '../components/DrawingControls';
{{includeFile template="src/components/Canvas.tsx.hbs" output="src/components/Canvas.{{ext}}"}}
import {Canvas} from '../components/Canvas';

const App = () => {
const settingsStore = useCreateStore(() => {
return createStore().setValue('brushColor', '#d81b60').setValue('brushSize', 5);
});

const canvasStore = useCreateStore(() => {
return createMergeableStore('canvas').setTable('strokes', {});
});

return (
<StrictMode>
  <Provider storesById=\{{settings: settingsStore, canvas: canvasStore}}>
    <DrawingControls />
    <Canvas />
    <Inspector />
  </Provider>
</StrictMode>
);
};

export {App};