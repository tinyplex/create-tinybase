{{includeFile template="src/todos/todoItem.css.hbs" output="src/todos/todoItem.css"}}
import './todoItem.css';
{{#if schemas}}
  import {useDelRowCallback, useRow, useSetPartialRowCallback} from './schemas';
{{else}}
  import {useDelRowCallback, useRow, useSetPartialRowCallback} from 'tinybase/ui-react';
{{/if}}
{{includeFile template="src/shared/Button.tsx.hbs" output="src/shared/Button.{{ext}}"}}
import {Button} from '../shared/Button';

export const TodoItem = ({rowId}: {rowId: string}) => {
const todo = useRow('todos', rowId) as {text: string; completed: boolean};
const setPartialRow = useSetPartialRowCallback('todos', rowId, (e: React.ChangeEvent<HTMLInputElement>) => ({completed: e.target.checked}), []);
  const delRow = useDelRowCallback('todos', rowId);

  return (
  <div className={`todoItem${todo.completed ? ' completed' : '' }`}>
    <input type="checkbox" checked={todo.completed} onChange={setPartialRow} id={`todo-${rowId}`} />
    <label htmlFor={`todo-${rowId}`}>{todo.text}</label>
    <Button onClick={delRow}>Delete</Button>
  </div>
  );
  };