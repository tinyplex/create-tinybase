{{includeFile template="src/todos/todoInput.css.hbs" output="src/todos/todoInput.css"}}
import './todoInput.css';
import {useState} from 'react';
{{#if schemas}}
  import {useAddRowCallback} from './schemas';
{{else}}
  import {useAddRowCallback} from 'tinybase/ui-react';
{{/if}}
{{includeFile template="src/shared/Button.tsx.hbs" output="src/shared/Button.{{ext}}"}}
import {Button} from '../shared/Button';
{{includeFile template="src/shared/Input.tsx.hbs" output="src/shared/Input.{{ext}}"}}
import {Input} from '../shared/Input';

export const TodoInput = () => {
const [text, setText] = useState('');
const addRow = useAddRowCallback('todos', () => ({text, completed: false}), [text]);

const handleSubmit = (e: React.FormEvent) => {
e.preventDefault();
if (text.trim()) {
addRow();
setText('');
}
};

return (
<form id="todoInput" onSubmit={handleSubmit}>
  <Input value={text} onChange={setText} placeholder="What needs to be done?" autoFocus />
  <Button type="submit" variant="primary">Add</Button>
</form>
);
};