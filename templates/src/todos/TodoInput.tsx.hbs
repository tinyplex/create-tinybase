{{includeFile template="src/todos/todoInput.css.hbs" output="src/todoInput.css"}}
import './todoInput.css';
import {useState} from 'react';
import {useAddRowCallback} from './Store';
{{includeFile template="src/shared/Button.tsx.hbs" output="src/Button.{{ext}}"}}
import {Button} from './Button';
{{includeFile template="src/shared/Input.tsx.hbs" output="src/Input.{{ext}}"}}
import {Input} from './Input';

export const TodoInput = () => {
const [text, setText] = useState('');
{{#if schemas}}
  const addRow = useAddRowCallback('todos', () => ({text, completed: false}), [text], 'todos');
{{else}}
  const addRow = useAddRowCallback('todos', () => ({text, completed: false}), [text]);
{{/if}}

const handleSubmit = (e: React.FormEvent) => {
e.preventDefault();
if (text.trim()) {
addRow();
setText('');
}
};

return (
<form id="todoInput" onSubmit={handleSubmit}>
  <Input value={text} onChange={setText} placeholder="What needs to be done?" autoFocus />
  <Button type="submit" variant="primary">Add</Button>
</form>
);
};