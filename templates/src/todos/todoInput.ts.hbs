{{includeFile template="src/todos/todoInput.css.hbs" output="src/todoInput.css"}}
import './todoInput.css';
import {type Store} from './store';
{{includeFile template="src/shared/button.ts.hbs" output="src/button.{{ext}}"}}
import {createButton} from './button';
{{includeFile template="src/shared/input.ts.hbs" output="src/input.{{ext}}"}}
import {createInput} from './input';

export const createTodoInput = (store: Store): HTMLDivElement => {
const container = document.createElement('div');
container.id = 'todoInput';

const input = createInput('What needs to be done?');

const addTodo = () => {
const text = input.value.trim();
if (text) {
store.addRow('todos', {text, completed: false});
input.value = '';
input.focus();
}
};

input.addEventListener('keypress', (e) => {
if (e.key === 'Enter') {
addTodo();
}
});

const addButton = createButton('Add', addTodo, 'primary');

container.appendChild(input);
container.appendChild(addButton);

return container;
};