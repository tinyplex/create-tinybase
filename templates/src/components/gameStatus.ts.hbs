{{includeFile template="src/components/gameStatus.css.hbs" output="src/components/gameStatus.css"}}
import './gameStatus.css';

export const createGameStatus = (store: any): HTMLDivElement => {
  const status = document.createElement('div');
  status.id = 'gameStatus';

  const render = () => {
    const gameStatus = store.getValue('gameStatus');
    const currentPlayer = store.getValue('currentPlayer');
    const winner = store.getValue('winner');

    if (gameStatus === 'playing') {
      status.innerHTML = `Player <span class="player">${currentPlayer}</span>'s turn`;
    } else if (gameStatus === 'won') {
      status.innerHTML = `Player <span class="winner">${winner}</span> wins!`;
    } else if (gameStatus === 'draw') {
      status.textContent = "It's a draw!";
    }
  };

  store.addValuesListener(render);
  render();

  return status;
};
