{{includeFile template="src/components/todoItem.css.hbs" output="src/components/todoItem.css"}}
import './todoItem.css';
import {useRow, useSetPartialRowCallback} from 'tinybase/ui-react';
{{includeFile template="src/components/Button.tsx.hbs" output="src/components/Button.{{ext}}"}}
import {Button} from './Button';

export const TodoItem = ({rowId, onDelete}: {rowId: string; onDelete: (id: string) => void}) => {
const todo = useRow('todos', rowId) as {text: string; completed: boolean};
const setPartialRow = useSetPartialRowCallback('todos', rowId, (e: React.ChangeEvent<HTMLInputElement>) => ({completed: e.target.checked}), []);

  return (
  <div className={`todoItem${todo.completed ? ' completed' : '' }`}>
    <input type="checkbox" checked={todo.completed} onChange={setPartialRow} id={`todo-${rowId}`} />
    <label htmlFor={`todo-${rowId}`}>{todo.text}</label>
    <Button onClick={()=> onDelete(rowId)}>Delete</Button>
  </div>
  );
  };