{{includeFile template="src/chat/index.css.hbs" output="src/chat/index.css"}}
import './index.css';
import {createStore} from 'tinybase';
{{includeFile template="src/components/button.ts.hbs" output="src/components/button.{{ext}}"}}
import {createButton} from '../components/button';
{{includeFile template="src/components/input.ts.hbs" output="src/components/input.{{ext}}"}}
import {createInput} from '../components/input';
{{includeFile template="src/components/message.ts.hbs" output="src/components/message.{{ext}}"}}
import {createMessage} from '../components/message';
{{includeFile template="src/components/messages.ts.hbs" output="src/components/messages.{{ext}}"}}
import {createMessages} from '../components/messages';
{{includeFile template="src/components/usernameInput.ts.hbs" output="src/components/usernameInput.{{ext}}"}}
import {createUsernameInput} from '../components/usernameInput';
{{includeFile template="src/components/messageInput.ts.hbs" output="src/components/messageInput.{{ext}}"}}
import {createMessageInput} from '../components/messageInput';

{{#if typescript}}
  export const app = () => {
{{else}}
  const app = () => {
{{/if}}
const store = createStore()
.setValue('username', 'Carol')
.setTable('messages', {
'1': {username: 'Alice', text: 'Hello!', timestamp: Date.now() - 60000},
'2': {username: 'Bob', text: 'Hi there!', timestamp: Date.now() - 30000},
});

createUsernameInput(store);
createMessageInput(store);

store.addTablesListener(() => createMessages(store));
createMessages(store);
};
{{#unless typescript}}
  export {app};
{{/unless}}