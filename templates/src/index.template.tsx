/// addImport("import './index.css';");
/// if (context.isReact) addImport("import ReactDOM from 'react-dom/client';");
/// if (context.isReact) addImport("import {App} from './App';");
/// if (!context.isReact) addImport("import {createStore} from 'tinybase';");

/// return when(context.isReact, `addEventListener('load', () =>\n  ReactDOM.createRoot(document.getElementById('app')${context.isTypescript ? '!' : ''}).render(<App />),\n);`);

/// return when(!context.isReact, `// Convenience function for attaching an action to a button\nconst onClick = (id${context.isTypescript ? ': string' : ''}, onClick${context.isTypescript ? ': () => void' : ''}) =>\n  document.getElementById(id)${context.isTypescript ? '!' : ''}.addEventListener('click', onClick);\n\n// Convenience function for writing out pretty JSON into an element\nconst updateJson = (id${context.isTypescript ? ': string' : ''}, content${context.isTypescript ? ': unknown' : ''}) =>\n  (document.getElementById(id)${context.isTypescript ? '!' : ''}.innerText = JSON.stringify(content, null, 2));\n\n// Convenience function for generating a random integer\nconst getRandom = (max = 100) => Math.floor(Math.random() * max);\n\naddEventListener('load', () => {\n  // Create the TinyBase Store\n  const store = createStore();\n\n  // Attach events to the buttons to mutate the data in the TinyBase Store\n  onClick('countButton', () => store.setValue('counter', (value) => value + 1));\n  onClick('randomButton', () => store.setValue('random', getRandom()));\n  onClick('addPetButton', () =>\n    store.addRow('pets', {\n      name: ['fido', 'felix', 'bubbles', 'lowly', 'polly'][getRandom(5)],\n      species: store.getRowIds('species')[getRandom(5)],\n    }),\n  );\n\n  // Bind listeners to all Values and Tables in the Store to print the content\n  store.addValuesListener(() => updateJson('valuesJson', store.getValues()));\n  store.addTablesListener(() => updateJson('tablesJson', store.getTables()));\n\n  // Initialize the Store's data\n  store\n    .setValue('counter', 0)\n    .setRow('pets', '0', {name: 'fido', species: 'dog'})\n    .setTable('species', {\n      dog: {price: 5},\n      cat: {price: 4},\n      fish: {price: 2},\n      worm: {price: 1},\n      parrot: {price: 3},\n    });\n});`);
