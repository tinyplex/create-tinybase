{{includeFile template="client/src/todos/todoInput.css.hbs" output="client/src/todoInput.css"}}
{{addImport "import './todoInput.css';"}}
{{addImport "import {useState} from 'react';"}}
{{addImport "import {useAddRowCallback, STORE_ID} from './Store';"}}
{{includeFile template="client/src/shared/Button.tsx.hbs" output="client/src/Button.{{ext}}"}}
{{addImport "import {Button} from './Button';"}}
{{includeFile template="client/src/shared/Input.tsx.hbs" output="client/src/Input.{{ext}}"}}
{{addImport "import {Input} from './Input';"}}

export const TodoInput = () => {
const [text, setText] = useState('');
const addRow = useAddRowCallback('todos', () => ({text, completed: false}), [text], STORE_ID);

const handleSubmit = (e: React.FormEvent) => {
e.preventDefault();
if (text.trim()) {
addRow();
setText('');
}
};

return (
<form id="todoInput" onSubmit={handleSubmit}>
  <Input value={text} onChange={setText} placeholder="What needs to be done?" autoFocus />
  <Button type="submit" variant="primary">Add</Button>
</form>
);
};