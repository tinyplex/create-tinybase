{{includeFile template="client/src/drawing/brushSize.css.hbs" output="client/src/brushSize.css"}}
{{addImport "import './brushSize.css';"}}
{{addImport "import type {SettingsStore} from './settingsStore';"}}

export const createBrushSize = (store: SettingsStore): HTMLDivElement => {
const container = document.createElement('div');
container.id = 'brushSize';

const label = document.createElement('label');
label.textContent = 'Size:';

const sizeSlider = document.createElement('input');
sizeSlider.type = 'range';
sizeSlider.min = '1';
sizeSlider.max = '50';

const sizeLabel = document.createElement('span');
sizeLabel.id = 'brushSizeValue';

const updateSize = () => {
const size = store.getValue('brushSize') ?? 5;
sizeSlider.value = `${size}`;
sizeLabel.textContent = `${size}`;
};

sizeSlider.addEventListener('input', () => {
const size = parseInt(sizeSlider.value);
store.setValue('brushSize', size);
sizeLabel.textContent = `${size}`;
});

store.addValueListener('brushSize', updateSize);
updateSize();

container.appendChild(label);
container.appendChild(sizeSlider);
container.appendChild(sizeLabel);

return container;
};